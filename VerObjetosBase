VER OBJETOS DE LA BASE DE DATOS

PROPIETARIOS DE OBJETOS Y NÚMERO DE OBJETOS POR PROPIETARIO

  SELECT owner, COUNT(owner) Numero FROM dba_objects  GROUP BY owner ORDER BY Numero DESC;

MUESTRA LOS DISPARADORES (TRIGGERS) DE LA BASE DE DATOS ORACLE DATABASE

  SELECT * FROM ALL_TRIGGERS;

REGLAS DE INTEGRIDAD Y COLUMNA A LA QUE AFECTAN

  SELECT constraint_name, column_name FROM sys.all_cons_columns;

TABLAS DE LAS QUE ES PROPIETARIO UN USUARIO DETERMINADO

  SELECT table_owner, table_name FROM sys.all_synonyms WHERE table_owner = 'SCOTT';

INFORMACIÓN TABLESPACES

  SELECT * FROM V$TABLESPACE;

BUSQUEDAS DE CONSTRAINTS DESHABILITADAS

  SELECT TABLE_NAME, CONSTRAINT_NAME, STATUS FROM ALL_CONSTRAINTS WHERE OWNER  <> 'SIEBEL' AND STATUS = 'DISABLED';

TABLAS CON MÁS DE UN NÚMERO DETERMINADO DE ÍNDICES

  SELECT TABLE_NAME,COUNT(*) FROM ALL_INDEXES WHERE OWNER='SIEBEL' GROUP BY TABLE_NAME HAVING COUNT(*) > 5 ORDER BY 2 DESC;

TABLAS SIN PRÍMARY KEY

  SELECT TABLE_NAME FROM ALL_TABLES T WHERE OWNER = 'SIEBEL' AND NOT EXISTS (SELECT 1 FROM ALL_CONSTRAINTS C WHERE T.OWNER  = C.OWNER
  AND CONSTRAINT_TYPE = 'P');

OBJETOS NO VÁLIDOS (PAQUETES, PROCEDIMIENTOS, FUNCIONES, TRIGGERS, VISTAS,…)

  SELECT OBJECT_NAME, OBJECT_TYPE FROM all_objects WHERE OWNER = 'SIEBEL' AND STATUS <> 'VALID';

OBJETOS CREADOS EN LA ÚLTIMA HORA

SELECT OBJECT_NAME,
       OBJECT_TYPE, 
       LAST_DDL_TIME, 
       CREATED, 
       TIMESTAMP, 
       STATUS
  FROM all_objects
 WHERE OWNER = 'SIEBEL'
   AND CREATED > sysdate - 1/24;

OBJETOS MODIFICADOS EN LA ÚLTIMA HORA

SELECT OBJECT_NAME,
       OBJECT_TYPE,
       LAST_DDL_TIME,
       CREATED,
       TIMESTAMP,
       STATUS
  FROM all_objects
 WHERE OWNER = 'SIEBEL'
   AND TIMESTAMP > sysdate - 1;

INFORMACIÓN DE COLUMNAS DE UNA TABLA

SELECT TABLE_NAME,
       COLUMN_NAME,
       DATA_TYPE,
       DATA_LENGTH,
       DATA_PRECISION,
       NULLABLE
  FROM ALL_TAB_COLUMNS
 WHERE OWNER = 'SIEBEL'
   AND TABLE_NAME = 'MI_TABLA'
 ORDER BY TABLE_NAME, COLUMN_ID;
 
